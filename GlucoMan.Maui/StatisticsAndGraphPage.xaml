<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:strings="clr-namespace:GlucoMan.Maui.Resources.Strings"
             x:Class="GlucoMan.Maui.StatisticsAndGraphPage"
             Title="{x:Static strings:AppStrings.StatisticsAndGraphPageTitle}">
    <ScrollView Padding="10,5,10,5">
        <VerticalStackLayout Spacing="8">
            
            <!-- Radio Buttons Section (2 rows x 3 columns) -->
            <Grid RowDefinitions="Auto,Auto" 
                  ColumnDefinitions="*,*,*"
                  RowSpacing="3"
                  ColumnSpacing="8">
                
                <!-- First row -->
                <RadioButton x:Name="rbGlucose" 
                             Content="{x:Static strings:AppStrings.Glucose}"
                             Grid.Row="0" Grid.Column="0"
                             GroupName="DataType"
                             IsChecked="True"
                             ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipGlucose}"/>
                
                <RadioButton x:Name="rbShortInsulin" 
                             Content="{x:Static strings:AppStrings.ShortInsulin}"
                             Grid.Row="0" Grid.Column="1"
                             GroupName="DataType"
                             ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipShortInsulin}"/>
                
                <RadioButton x:Name="rbLongInsulin" 
                             Content="{x:Static strings:AppStrings.LongInsulin}"
                             Grid.Row="0" Grid.Column="2"
                             GroupName="DataType"
                             ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipLongInsulin}"/>
                
                <!-- Second row -->
                <RadioButton x:Name="rbFoods" 
                             Content="{x:Static strings:AppStrings.Foods}"
                             Grid.Row="1" Grid.Column="0"
                             GroupName="DataType"
                             ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipFoodsSelection}"/>
                
                <RadioButton x:Name="rbMeals" 
                             Content="{x:Static strings:AppStrings.Meals}"
                             Grid.Row="1" Grid.Column="1"
                             GroupName="DataType"
                             ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipMealsSelection}"/>
                
                <RadioButton x:Name="rbRecipes" 
                             Content="{x:Static strings:AppStrings.Recipes}"
                             Grid.Row="1" Grid.Column="2"
                             GroupName="DataType"
                             ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipRecipesSelection}"/>
            </Grid>
            
            <!-- Date and Time Range Section -->
            <Label x:Name="lblSelectTimeRange" 
                   Text="{x:Static strings:AppStrings.SelectTimeRange}"
                   FontSize="15" 
                   FontAttributes="Bold"
                   Margin="0,8,0,3"/>
            
            <!-- Date and Time Selection Frame -->
            <Frame Padding="8" 
                   CornerRadius="6"
                   BorderColor="#bdc3c7"
                   BackgroundColor="#ecf0f1"
                   HasShadow="False"
                   Margin="3,0,3,2">
                
                <Grid RowDefinitions="Auto" 
                      ColumnDefinitions="40,*,40,*"
                      RowSpacing="5"
                      ColumnSpacing="6">
                    
                    <!-- From column -->
                    <Label x:Name="lblFrom" 
                           Text="{x:Static strings:AppStrings.FromLabel}"
                           Grid.Row="0" Grid.Column="0"
                           VerticalOptions="Center"
                           HorizontalOptions="End"
                           FontSize="13"
                           FontAttributes="Bold"
                           TextColor="#2980b9"
                           Margin="0,0,2,0"/>
                    
                    <DatePicker x:Name="datePickerFrom" 
                                Grid.Row="0" Grid.Column="1"
                                Format="dd/MM/yyyy"
                                BackgroundColor="#d6eaf8"
                                TextColor="Black"
                                VerticalOptions="Center"
                                HorizontalOptions="Fill"
                                ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipFromDate}"
                                HeightRequest="34"/>

                    <!-- To column -->
                    <Label x:Name="lblTo" 
                           Text="{x:Static strings:AppStrings.ToLabel}"
                           Grid.Row="0" Grid.Column="2"
                           VerticalOptions="Center"
                           HorizontalOptions="End"
                           FontSize="13"
                           FontAttributes="Bold"
                           TextColor="#27ae60"
                           Margin="0,0,2,0"/>
                    
                    <DatePicker x:Name="datePickerTo" 
                                Grid.Row="0" Grid.Column="3"
                                Format="dd/MM/yyyy"
                                BackgroundColor="#d5f4e6"
                                TextColor="Black"
                                VerticalOptions="Center"
                                HorizontalOptions="Fill"
                                ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipToDate}"
                                HeightRequest="34"/>
                </Grid>
            </Frame>
            
            <!-- Statistics and Chart Images (clickable) -->
            <Grid ColumnDefinitions="*,*" 
                  ColumnSpacing="15"
                  Margin="0,3,0,5">
                
                <Image x:Name="imgStatistics" 
                       Source="statistics_no_axis.png"
                       Grid.Column="0"
                       HeightRequest="65"
                       VerticalOptions="Center" 
                       HorizontalOptions="Fill"
                       ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipStatistics}"
                       Aspect="AspectFit">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Tapped="btnStatistics_Clicked" />
                    </Image.GestureRecognizers>
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="Opacity" Value="0.7" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                </Image>
                
                <Image x:Name="imgChart" 
                       Source="chart.png"
                       Grid.Column="1"
                       HeightRequest="70"
                       VerticalOptions="Center" 
                       HorizontalOptions="Fill"
                       ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipChart}"
                       Aspect="AspectFit">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Tapped="btnChart_Clicked" />
                    </Image.GestureRecognizers>
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="PointerOver">
                                <VisualState.Setters>
                                    <Setter Property="Opacity" Value="0.7" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>
                </Image>
            </Grid>
            
            <!-- Import Data Section -->
            <BoxView HeightRequest="2" 
                     Color="#34495e" 
                     Margin="0,8,0,8"/>
            <Label x:Name="lblImportSensor" 
                   Text="{x:Static strings:AppStrings.ImportSensorTitle}"
                   HorizontalOptions="Center"
                   FontSize="16" 
                   FontAttributes="Bold"
                   Margin="0,0,0,5"/>
            <!-- Import Sensor Data Image (clickable) -->
            <Image x:Name="imgImportSensor" 
                   Source="sensor2app.png"
                   HeightRequest="70"
                   VerticalOptions="Center" 
                   HorizontalOptions="Center"
                   ToolTipProperties.Text="{x:Static strings:AppStrings.TooltipImportSensor}"
                   Aspect="AspectFit">
                <Image.GestureRecognizers>
                    <TapGestureRecognizer Tapped="btnImportGlucose_Clicked" />
                </Image.GestureRecognizers>
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="PointerOver">
                            <VisualState.Setters>
                                <Setter Property="Opacity" Value="0.7" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
            </Image>      
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>

